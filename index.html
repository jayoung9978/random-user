<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>테스트용 유저정보 랜덤 데이터 생성기</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				background: white;
				border-radius: 15px;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				overflow: hidden;
			}

			.header {
				background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
				padding: 30px;
				text-align: center;
				color: white;
			}

			.header h1 {
				font-size: 2.5rem;
				margin-bottom: 10px;
				font-weight: 700;
			}

			.header p {
				font-size: 1.1rem;
				opacity: 0.9;
			}

			.controls {
				padding: 30px;
				background: #f8f9fa;
				border-bottom: 1px solid #e9ecef;
			}

			.control-group {
				display: flex;
				flex-direction: column;
				gap: 20px;
			}

			.settings-group {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 15px;
				padding: 20px;
				background: white;
				border-radius: 10px;
				border: 2px solid #e9ecef;
			}

			.action-group {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 20px;
				flex-wrap: wrap;
			}

			.radio-group {
				display: flex;
				align-items: center;
				gap: 10px;
				padding: 10px;
				background: #f8f9fa;
				border-radius: 8px;
				border: 1px solid #e9ecef;
			}

			.radio-group span {
				font-weight: 600;
				color: #495057;
				min-width: 70px;
			}

			.radio-group label {
				display: flex;
				align-items: center;
				gap: 5px;
				cursor: pointer;
				font-weight: 500;
				color: #6c757d;
			}

			.radio-group input[type="radio"] {
				margin: 0;
			}

			.radio-group.disabled {
				opacity: 0.5;
				pointer-events: none;
			}

			.save-btn {
				background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
				color: white;
				border: none;
				padding: 12px 25px;
				border-radius: 8px;
				font-size: 14px;
				font-weight: 600;
				cursor: pointer;
				transition: transform 0.2s, box-shadow 0.2s;
			}

			.save-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 15px rgba(40, 167, 69, 0.4);
			}

			.save-btn:active {
				transform: translateY(0);
			}

			.preview-section {
				background: #e8f4fd;
				border: 2px dashed #4facfe;
				border-radius: 10px;
				padding: 15px;
				margin: 15px 0;
			}

			.preview-title {
				font-weight: 700;
				color: #2c3e50;
				margin-bottom: 10px;
				font-size: 14px;
			}

			.preview-content {
				background: white;
				border-radius: 8px;
				padding: 12px;
				font-family: "Courier New", monospace;
			}

			.preview-item {
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 5px;
			}

			.preview-item:last-child {
				margin-bottom: 0;
			}

			.preview-label {
				font-weight: 600;
				color: #495057;
				min-width: 80px;
			}

			.preview-value {
				color: #2c5aa0;
				font-weight: 500;
				background: #f8f9fa;
				padding: 4px 8px;
				border-radius: 4px;
				border-left: 3px solid #4facfe;
			}

			.input-group {
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.input-group label {
				font-weight: 600;
				color: #495057;
			}

			.input-group input {
				padding: 10px 15px;
				border: 2px solid #e9ecef;
				border-radius: 8px;
				width: 100px;
				text-align: center;
				font-size: 16px;
				transition: border-color 0.3s;
			}

			.input-group input:focus {
				outline: none;
				border-color: #4facfe;
			}

			.generate-btn {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				border: none;
				padding: 12px 30px;
				border-radius: 8px;
				font-size: 16px;
				font-weight: 600;
				cursor: pointer;
				transition: transform 0.2s, box-shadow 0.2s;
			}

			.generate-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
			}

			.generate-btn:active {
				transform: translateY(0);
			}

			.results {
				padding: 30px;
			}

			.tab-container {
				margin-bottom: 20px;
			}

			.tabs {
				display: flex;
				border-bottom: 2px solid #e9ecef;
				margin-bottom: 20px;
			}

			.tab {
				flex: 1;
				padding: 15px;
				text-align: center;
				background: #f8f9fa;
				border: none;
				cursor: pointer;
				font-size: 16px;
				font-weight: 600;
				color: #6c757d;
				transition: all 0.3s;
			}

			.tab.active {
				background: #4facfe;
				color: white;
			}

			.tab:hover {
				background: #e9ecef;
			}

			.tab.active:hover {
				background: #4facfe;
			}

			.output-container {
				position: relative;
				min-height: 300px;
			}

			.output {
				background: #f8f9fa;
				border: 1px solid #e9ecef;
				border-radius: 8px;
				padding: 20px;
				min-height: 300px;
				font-family: "Courier New", monospace;
				font-size: 14px;
				line-height: 1.6;
				white-space: pre-wrap;
				overflow-wrap: break-word;
			}

			.copy-btn {
				position: absolute;
				top: 10px;
				right: 10px;
				background: #28a745;
				color: white;
				border: none;
				padding: 8px 15px;
				border-radius: 6px;
				cursor: pointer;
				font-size: 14px;
				transition: background-color 0.3s;
			}

			.copy-btn:hover {
				background: #218838;
			}

			.copy-btn.copied {
				background: #17a2b8;
			}

			.empty-state {
				text-align: center;
				color: #6c757d;
				font-style: italic;
				margin-top: 50px;
			}

			.loading {
				text-align: center;
				color: #4facfe;
				font-weight: 600;
			}

			@media (max-width: 768px) {
				.header h1 {
					font-size: 2rem;
				}

				.control-group {
					flex-direction: column;
					align-items: stretch;
				}

				.tabs {
					flex-direction: column;
				}

				.tab {
					border-bottom: 1px solid #dee2e6;
				}

				.tab:last-child {
					border-bottom: none;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>🎲 테스트용 유저정보 랜덤 데이터 생성기</h1>
				<p>이름, 주소, 이메일, 나이를 무작위로 생성합니다</p>
			</div>

			<div class="controls">
				<div class="control-group">
					<div class="settings-group">
						<div class="radio-group">
							<span>언어:</span>
							<label>
								<input type="radio" name="language" value="korean" checked />
								한국
							</label>
							<label>
								<input type="radio" name="language" value="english" />
								영어
							</label>
						</div>

						<div class="radio-group" id="columnLanguageGroup">
							<span>컬럼언어:</span>
							<label>
								<input
									type="radio"
									name="columnLanguage"
									value="korean"
									checked
								/>
								한국어
							</label>
							<label>
								<input type="radio" name="columnLanguage" value="english" />
								English
							</label>
						</div>

						<div class="radio-group" id="displayLanguageGroup">
							<span>표시언어:</span>
							<label>
								<input
									type="radio"
									name="displayLanguage"
									value="korean"
									checked
								/>
								한국어
							</label>
							<label>
								<input type="radio" name="displayLanguage" value="english" />
								English
							</label>
						</div>

						<div class="radio-group">
							<span>데이터형식:</span>
							<label>
								<input type="radio" name="dataFormat" value="json" checked />
								JSON
							</label>
							<label>
								<input type="radio" name="dataFormat" value="text" />
								텍스트
							</label>
						</div>

						<div class="radio-group" id="addressLevelGroup">
							<span>주소레벨:</span>
							<label>
								<input type="radio" name="addressLevel" value="simple" />
								간단
							</label>
							<label>
								<input type="radio" name="addressLevel" value="medium" checked />
								중간
							</label>
							<label>
								<input type="radio" name="addressLevel" value="detailed" />
								상세
							</label>
						</div>
					</div>

					<div class="preview-section">
						<div class="preview-title">📋 설정 미리보기</div>
						<div class="preview-content" id="settingsPreview">
							<div class="preview-item">
								<span class="preview-label">생성 예시:</span>
								<span class="preview-value" id="previewExample"
									>이름: 김민준</span
								>
							</div>
						</div>
					</div>

					<div class="action-group">
						<button class="save-btn" onclick="saveSettings()">
							💾 설정 저장
						</button>
						<div class="input-group">
							<label for="count">생성 개수:</label>
							<input type="number" id="count" value="5" min="1" max="100" />
						</div>
						<button class="generate-btn" onclick="generateData()">
							🎯 데이터 생성하기
						</button>
					</div>
				</div>
			</div>

			<div class="results">
				<div class="output-container">
					<button class="copy-btn" onclick="copyToClipboard()">📋 복사</button>
					<div class="output" id="output">
						<div class="empty-state">
							위의 "데이터 생성하기" 버튼을 클릭하여 랜덤 데이터를 생성해보세요!
							🚀
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			// 랜덤 데이터 생성 클래스
			class RandomGenerator {
				constructor() {
					// 한국 데이터
					this.korean = {
						lastNames: [
							"김",
							"이",
							"박",
							"최",
							"정",
							"강",
							"조",
							"윤",
							"장",
							"임",
							"한",
							"오",
							"서",
							"신",
							"권",
							"황",
							"안",
							"송",
							"류",
							"전",
							"홍",
							"고",
							"문",
							"양",
							"손",
							"배",
							"조",
							"백",
							"허",
							"유",
							"남",
							"심",
							"노",
							"정",
							"하",
							"곽",
							"성",
							"차",
							"주",
							"우",
						],
						firstNames: [
							"민준",
							"서준",
							"예준",
							"도윤",
							"시우",
							"주원",
							"하준",
							"지호",
							"건우",
							"우진",
							"지민",
							"서연",
							"서윤",
							"지우",
							"하윤",
							"예은",
							"지유",
							"윤서",
							"채원",
							"시은",
							"소율",
							"지아",
							"예린",
							"수빈",
							"다은",
							"채윤",
							"하은",
							"수아",
							"예나",
							"유나",
							"현우",
							"준서",
							"민재",
							"준혁",
							"지훈",
							"태윤",
							"민성",
							"연우",
							"정우",
							"승우",
						],
						cities: [
							"서울특별시",
							"부산광역시",
							"대구광역시",
							"인천광역시",
							"광주광역시",
							"대전광역시",
							"울산광역시",
							"경기도",
							"강원도",
							"충청북도",
							"충청남도",
							"전라북도",
							"전라남도",
							"경상북도",
							"경상남도",
							"제주특별자치도",
						],
						districts: [
							"강남구",
							"강동구",
							"강북구",
							"강서구",
							"관악구",
							"광진구",
							"구로구",
							"금천구",
							"노원구",
							"도봉구",
							"동대문구",
							"동작구",
							"마포구",
							"서대문구",
							"서초구",
							"성동구",
							"성북구",
							"송파구",
							"양천구",
							"영등포구",
							"용산구",
							"은평구",
							"종로구",
							"중구",
							"중랑구",
							"해운대구",
							"수영구",
							"부산진구",
							"동래구",
							"남구",
							"북구",
							"사하구",
							"금정구",
							"수성구",
							"달서구",
							"중구",
							"동구",
							"서구",
							"남구",
							"북구",
							"연수구",
							"남동구",
							"부평구",
							"계양구",
							"서구",
							"미추홀구",
						],
						roadNames: [
							"가로수길",
							"강남대로",
							"테헤란로",
							"올림픽로",
							"한강대로",
							"서초대로",
							"논현로",
							"압구정로",
							"삼성로",
							"역삼로",
							"언주로",
							"봉은사로",
							"세종대로",
							"종로",
							"을지로",
							"퇴계로",
							"동작대로",
							"여의대로",
							"양화로",
							"홍익로",
							"연남로",
							"성산로",
							"증산로",
							"공항대로",
							"해운대해변로",
							"광안해변로",
							"동백로",
							"센텀로",
							"수영로",
							"달구벌대로",
							"중앙대로",
							"동대구로",
							"경상대로",
						],
						nameMapping: {
							김: "kim",
							이: "lee",
							박: "park",
							최: "choi",
							정: "jung",
							강: "kang",
							조: "jo",
							윤: "yoon",
							장: "jang",
							임: "lim",
							한: "han",
							오: "oh",
							서: "seo",
							신: "shin",
							권: "kwon",
							황: "hwang",
							안: "ahn",
							송: "song",
							류: "ryu",
							전: "jeon",
							홍: "hong",
							고: "go",
							문: "moon",
							양: "yang",
							손: "son",
							배: "bae",
							백: "baek",
							허: "heo",
							유: "yu",
							남: "nam",
							심: "sim",
							노: "noh",
							하: "ha",
							곽: "kwak",
							성: "sung",
							차: "cha",
							주: "joo",
							우: "woo",
						},
						domains: [
							"gmail.com",
							"naver.com",
							"daum.net",
							"hanmail.net",
							"yahoo.co.kr",
						],
					};

					// 한국-영어 이름 매핑
					this.koreanToEnglishNames = {
						민준: "Minjun", 서준: "Seojun", 예준: "Yejun", 도윤: "Doyun", 시우: "Siwoo",
						주원: "Juwon", 하준: "Hajun", 지호: "Jiho", 건우: "Gunwoo", 우진: "Woojin",
						지민: "Jimin", 서연: "Seoyeon", 서윤: "Seoyoon", 지우: "Jiwoo", 하윤: "Hayoon",
						예은: "Yeeun", 지유: "Jiyu", 윤서: "Yoonseo", 채원: "Chaewon", 시은: "Sieun",
						소율: "Soyul", 지아: "Jia", 예린: "Yerin", 수빈: "Subin", 다은: "Daeun",
						채윤: "Chaeyoon", 하은: "Haeun", 수아: "Sua", 예나: "Yena", 유나: "Yuna",
						현우: "Hyunwoo", 준서: "Joonseo", 민재: "Minjae", 준혁: "Joonhyuk", 지훈: "Jihoon",
						태윤: "Taeyoon", 민성: "Minseong", 연우: "Yeonwoo", 정우: "Jungwoo", 승우: "Seungwoo"
					};

					// 한국-영어 주소 매핑
					this.addressMapping = {
						서울특별시: "Seoul", 부산광역시: "Busan", 대구광역시: "Daegu", 인천광역시: "Incheon",
						광주광역시: "Gwangju", 대전광역시: "Daejeon", 울산광역시: "Ulsan", 경기도: "Gyeonggi-do",
						강원도: "Gangwon-do", 충청북도: "Chungcheongbuk-do", 충청남도: "Chungcheongnam-do",
						전라북도: "Jeollabuk-do", 전라남도: "Jeollanam-do", 경상북도: "Gyeongsangbuk-do",
						경상남도: "Gyeongsangnam-do", 제주특별자치도: "Jeju",
						강남구: "Gangnam-gu", 강동구: "Gangdong-gu", 강북구: "Gangbuk-gu", 강서구: "Gangseo-gu",
						관악구: "Gwanak-gu", 광진구: "Gwangjin-gu", 구로구: "Guro-gu", 금천구: "Geumcheon-gu",
						노원구: "Nowon-gu", 도봉구: "Dobong-gu", 동대문구: "Dongdaemun-gu", 동작구: "Dongjak-gu",
						마포구: "Mapo-gu", 서대문구: "Seodaemun-gu", 서초구: "Seocho-gu", 성동구: "Seongdong-gu",
						성북구: "Seongbuk-gu", 송파구: "Songpa-gu", 양천구: "Yangcheon-gu", 영등포구: "Yeongdeungpo-gu",
						용산구: "Yongsan-gu", 은평구: "Eunpyeong-gu", 종로구: "Jongno-gu", 중구: "Jung-gu",
						중랑구: "Jungnang-gu", 해운대구: "Haeundae-gu", 수영구: "Suyeong-gu", 부산진구: "Busanjin-gu",
						동래구: "Dongnae-gu", 남구: "Nam-gu", 북구: "Buk-gu", 사하구: "Saha-gu", 금정구: "Geumjeong-gu",
						수성구: "Suseong-gu", 달서구: "Dalseo-gu", 동구: "Dong-gu", 서구: "Seo-gu",
						연수구: "Yeonsu-gu", 남동구: "Namdong-gu", 부평구: "Bupyeong-gu", 계양구: "Gyeyang-gu", 미추홀구: "Michuhol-gu",
						가로수길: "Garosu-gil", 강남대로: "Gangnam-daero", 테헤란로: "Teheran-ro", 올림픽로: "Olympic-ro",
						한강대로: "Hangang-daero", 서초대로: "Seocho-daero", 논현로: "Nonhyeon-ro", 압구정로: "Apgujeong-ro",
						삼성로: "Samsung-ro", 역삼로: "Yeoksam-ro", 언주로: "Eonju-ro", 봉은사로: "Bongeunsa-ro",
						세종대로: "Sejong-daero", 종로: "Jongno", 을지로: "Eulji-ro", 퇴계로: "Toegye-ro",
						동작대로: "Dongjak-daero", 여의대로: "Yeoui-daero", 양화로: "Yanghwa-ro", 홍익로: "Hongik-ro",
						연남로: "Yeonnam-ro", 성산로: "Seongsan-ro", 증산로: "Jeungsan-ro", 공항대로: "Gonghang-daero",
						해운대해변로: "Haeundae Beach-ro", 광안해변로: "Gwangan Beach-ro", 동백로: "Dongbaek-ro",
						센텀로: "Centum-ro", 수영로: "Suyeong-ro", 수성로: "Suseong-ro", 달구벌대로: "Dalgubeol-daero",
						중앙대로: "Jungang-daero", 동대구로: "Dongdaegu-ro", 경상대로: "Gyeongsang-daero"
					};

					// 외국 데이터 (영어권)
					this.english = {
						firstNames: [
							"James",
							"Robert",
							"John",
							"Michael",
							"David",
							"William",
							"Richard",
							"Joseph",
							"Thomas",
							"Christopher",
							"Daniel",
							"Paul",
							"Mark",
							"Donald",
							"Steven",
							"Kenneth",
							"Andrew",
							"Joshua",
							"Kevin",
							"Brian",
							"Mary",
							"Patricia",
							"Jennifer",
							"Linda",
							"Elizabeth",
							"Barbara",
							"Susan",
							"Jessica",
							"Sarah",
							"Karen",
							"Lisa",
							"Nancy",
							"Betty",
							"Helen",
							"Sandra",
							"Donna",
							"Carol",
							"Ruth",
							"Sharon",
							"Michelle",
						],
						lastNames: [
							"Smith",
							"Johnson",
							"Williams",
							"Brown",
							"Jones",
							"Garcia",
							"Miller",
							"Davis",
							"Rodriguez",
							"Martinez",
							"Hernandez",
							"Lopez",
							"Gonzalez",
							"Wilson",
							"Anderson",
							"Thomas",
							"Taylor",
							"Moore",
							"Jackson",
							"Martin",
							"Lee",
							"Perez",
							"Thompson",
							"White",
							"Harris",
							"Sanchez",
							"Clark",
							"Ramirez",
							"Lewis",
							"Robinson",
						],
						states: [
							"California",
							"Texas",
							"Florida",
							"New York",
							"Pennsylvania",
							"Illinois",
							"Ohio",
							"Georgia",
							"North Carolina",
							"Michigan",
							"New Jersey",
							"Virginia",
							"Washington",
							"Arizona",
							"Massachusetts",
							"Tennessee",
							"Indiana",
							"Missouri",
							"Maryland",
							"Wisconsin",
						],
						cities: [
							"New York",
							"Los Angeles",
							"Chicago",
							"Houston",
							"Phoenix",
							"Philadelphia",
							"San Antonio",
							"San Diego",
							"Dallas",
							"San Jose",
							"Austin",
							"Jacksonville",
							"Fort Worth",
							"Columbus",
							"Charlotte",
							"San Francisco",
							"Indianapolis",
							"Seattle",
							"Denver",
							"Washington",
							"Boston",
							"El Paso",
							"Nashville",
							"Detroit",
							"Oklahoma City",
						],
						streets: [
							"Main St",
							"Oak St",
							"First St",
							"Second St",
							"Park Ave",
							"Maple Ave",
							"Cedar St",
							"Elm St",
							"Washington St",
							"Lake St",
							"Hill St",
							"Third St",
							"Fourth St",
							"Fifth St",
							"Sixth St",
							"Broadway",
							"Lincoln Ave",
							"Madison Ave",
							"Jackson St",
							"Church St",
						],
						domains: [
							"gmail.com",
							"yahoo.com",
							"hotmail.com",
							"outlook.com",
							"aol.com",
						],
					};
				}

				randomChoice(array) {
					return array[Math.floor(Math.random() * array.length)];
				}

				randomInt(min, max) {
					return Math.floor(Math.random() * (max - min + 1)) + min;
				}

				generateName(language) {
					if (language === "korean") {
						const lastName = this.randomChoice(this.korean.lastNames);
						const firstName = this.randomChoice(this.korean.firstNames);
						return lastName + firstName;
					} else {
						const firstName = this.randomChoice(this.english.firstNames);
						const lastName = this.randomChoice(this.english.lastNames);
						return `${firstName} ${lastName}`;
					}
				}

				generateAddress(language, addressLevel = 'medium') {
					if (language === "korean") {
						const city = this.randomChoice(this.korean.cities);
						
						switch (addressLevel) {
							case 'simple':
								return city;
							case 'medium':
								const district = this.randomChoice(this.korean.districts);
								return `${city} ${district}`;
							case 'detailed':
							default:
								const district2 = this.randomChoice(this.korean.districts);
								const road = this.randomChoice(this.korean.roadNames);
								const buildingNum = this.randomInt(1, 999);
								return `${city} ${district2} ${road} ${buildingNum}`;
						}
					} else {
						const city = this.randomChoice(this.english.cities);
						
						switch (addressLevel) {
							case 'simple':
								return city;
							case 'medium':
								const state = this.randomChoice(this.english.states);
								return `${city}, ${state}`;
							case 'detailed':
							default:
								const streetNum = this.randomInt(100, 9999);
								const street = this.randomChoice(this.english.streets);
								const state2 = this.randomChoice(this.english.states);
								const zipCode = this.randomInt(10000, 99999);
								return `${streetNum} ${street}, ${city}, ${state2} ${zipCode}`;
						}
					}
				}

				generateEmail(name, language) {
					if (language === "korean") {
						const lastChar = name[0];
						const engLast = this.korean.nameMapping[lastChar] || "user";
						const randomNum = this.randomInt(100, 9999);
						const domain = this.randomChoice(this.korean.domains);
						return `${engLast}${randomNum}@${domain}`;
					} else {
						const nameParts = name.toLowerCase().split(" ");
						const username = nameParts.join("") + this.randomInt(100, 9999);
						const domain = this.randomChoice(this.english.domains);
						return `${username}@${domain}`;
					}
				}

				generateAllData(
					language = "korean",
					columnLanguage = "korean",
					displayLanguage = "korean",
					addressLevel = "medium"
				) {
					const name = this.generateName(language);
					const email = this.generateEmail(name, language);
					const address = this.generateAddress(language, addressLevel);
					const age = this.randomInt(18, 65);

					// 컬럼명 결정
					let columns;
					if (columnLanguage === "korean") {
						columns = {
							name: "이름",
							email: "이메일",
							address: "주소",
							age: "나이",
						};
					} else {
						columns = {
							name: "name",
							email: "email",
							address: "address",
							age: "age",
						};
					}

					// 데이터 값 처리 (표시언어에 따라)
					let displayName = name;
					let displayAddress = address;

					if (displayLanguage === "english" && language === "korean") {
						// 한국 이름을 완전히 영어식으로 변환
						const lastName = name[0];
						const firstName = name.slice(1);
						const engLast = this.korean.nameMapping[lastName] || "kim";

						const engFirst = this.koreanToEnglishNames[firstName] || firstName;
						displayName = `${engFirst} ${
							engLast.charAt(0).toUpperCase() + engLast.slice(1)
						}`;

						// 주소를 완전히 영어식으로 변환
						let engAddress = address;
						Object.entries(this.addressMapping).forEach(([kr, en]) => {
							engAddress = engAddress.replace(new RegExp(kr, "g"), en);
						});

						displayAddress = engAddress;
					}

					return {
						[columns.name]: displayName,
						[columns.email]: email,
						[columns.address]: displayAddress,
						[columns.age]: age,
					};
				}
			}

			// 전역 변수
			let generator = new RandomGenerator();
			let lastGeneratedData = [];
			let generateDataTimeout = null;

			// 상수 정의
			const SAMPLE_DATA = {
				koreanName: "김민준",
				englishName: "James Smith", 
				koreanEmail: "kim1234@naver.com",
				englishEmail: "jamessmith1234@gmail.com",
				koreanAddress: {
					simple: "서울특별시",
					medium: "서울특별시 강남구",
					detailed: "서울특별시 강남구 테헤란로 123"
				},
				englishAddress: {
					simple: "New York",
					medium: "New York, California", 
					detailed: "1234 Main St, New York, California 90210"
				}
			};

			// 유틸리티 함수: 현재 폼 설정 가져오기
			function getCurrentSettings() {
				try {
					const count = parseInt(document.getElementById("count").value) || 5;
					
					// 입력 값 검증
					if (count < 1 || count > 100) {
						console.warn("Count value out of range, using default: 5");
						document.getElementById("count").value = 5;
					}

					return {
						language: document.querySelector('input[name="language"]:checked')?.value || 'korean',
						columnLanguage: document.querySelector('input[name="columnLanguage"]:checked')?.value || 'korean',
						displayLanguage: document.querySelector('input[name="displayLanguage"]:checked')?.value || 'korean',
						dataFormat: document.querySelector('input[name="dataFormat"]:checked')?.value || 'json',
						addressLevel: document.querySelector('input[name="addressLevel"]:checked')?.value || 'medium',
						count: Math.min(Math.max(count, 1), 100)
					};
				} catch (error) {
					console.error("Error getting settings:", error);
					return {
						language: 'korean',
						columnLanguage: 'korean', 
						displayLanguage: 'korean',
						dataFormat: 'json',
						addressLevel: 'medium',
						count: 5
					};
				}
			}

			// 설정 저장
			function saveSettings() {
				try {
					const settings = getCurrentSettings();
					localStorage.setItem(
						"randomGeneratorSettings",
						JSON.stringify(settings)
					);

					// 저장 완료 피드백
					const saveBtn = document.querySelector(".save-btn");
					if (saveBtn) {
						const originalText = saveBtn.textContent;
						saveBtn.textContent = "✅ 저장완료!";
						saveBtn.style.background =
							"linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%)";

						setTimeout(() => {
							saveBtn.textContent = originalText;
							saveBtn.style.background =
								"linear-gradient(135deg, #28a745 0%, #20c997 100%)";
						}, 2000);
					}
				} catch (error) {
					console.error("Error saving settings:", error);
					const saveBtn = document.querySelector(".save-btn");
					if (saveBtn) {
						saveBtn.textContent = "❌ 저장 실패";
						setTimeout(() => {
							saveBtn.textContent = "💾 설정 저장";
						}, 2000);
					}
				}
			}

			// 설정 로드
			function loadSettings() {
				try {
					const saved = localStorage.getItem("randomGeneratorSettings");
					if (saved) {
						const settings = JSON.parse(saved);

						// 안전하게 설정 복원
						const languageEl = document.querySelector(`input[name="language"][value="${settings.language}"]`);
						const columnLanguageEl = document.querySelector(`input[name="columnLanguage"][value="${settings.columnLanguage}"]`);
						const displayLanguageEl = document.querySelector(`input[name="displayLanguage"][value="${settings.displayLanguage}"]`);
						const dataFormatEl = document.querySelector(`input[name="dataFormat"][value="${settings.dataFormat}"]`);
						const addressLevelEl = document.querySelector(`input[name="addressLevel"][value="${settings.addressLevel || 'medium'}"]`);
						const countEl = document.getElementById("count");

						if (languageEl) languageEl.checked = true;
						if (columnLanguageEl) columnLanguageEl.checked = true;
						if (displayLanguageEl) displayLanguageEl.checked = true;
						if (dataFormatEl) dataFormatEl.checked = true;
						if (addressLevelEl) addressLevelEl.checked = true;
						if (countEl) countEl.value = settings.count || 5;
					}
				} catch (error) {
					console.error("Error loading settings:", error);
					// 기본값 사용
				}

				// 초기 설정
				updateLanguageSettings();

				// 이벤트 위임을 사용한 효율적인 이벤트 처리
				const settingsContainer = document.querySelector('.settings-group');
				if (settingsContainer) {
					settingsContainer.addEventListener('change', (event) => {
						if (event.target.type === 'radio') {
							// 언어 설정 변경시 특별 처리
							if (event.target.name === 'language') {
								updateLanguageSettings();
							}
							// 모든 라디오 버튼 변경시 미리보기 업데이트
							updatePreview();
						}
					});
				}
			}

			// 언어 설정에 따른 다른 설정들 활성화/비활성화
			function updateLanguageSettings() {
				const { language: selectedLanguage } = getCurrentSettings();
				const columnGroup = document.getElementById("columnLanguageGroup");
				const displayGroup = document.getElementById("displayLanguageGroup");
				const addressLevelGroup = document.getElementById("addressLevelGroup");

				if (selectedLanguage === "english") {
					// 영어 선택시 다른 언어 설정 비활성화
					columnGroup.classList.add("disabled");
					displayGroup.classList.add("disabled");
					addressLevelGroup.classList.add("disabled");

					// 영어 선택시 자동으로 English로 설정
					document.querySelector(
						'input[name="columnLanguage"][value="english"]'
					).checked = true;
					document.querySelector(
						'input[name="displayLanguage"][value="english"]'
					).checked = true;
				} else {
					// 한국 선택시 다른 언어 설정 활성화
					columnGroup.classList.remove("disabled");
					displayGroup.classList.remove("disabled");
					addressLevelGroup.classList.remove("disabled");
				}

				// 미리보기 업데이트
				updatePreview();
			}

			// 설정 미리보기 업데이트
			function updatePreview() {
				const { language, columnLanguage, displayLanguage, dataFormat, addressLevel } = getCurrentSettings();

				let example = "";

				if (language === "korean") {
					// 한국 데이터 기준
					let displayName = SAMPLE_DATA.koreanName;
					let displayEmail = SAMPLE_DATA.koreanEmail;
					let displayAddress = SAMPLE_DATA.koreanAddress[addressLevel];

					if (displayLanguage === "english") {
						displayName = "Soyul Kim"; // 한국이름을 영어식으로 (실제와 맞춤)
						// 주소 레벨에 따른 영어 변환
						switch (addressLevel) {
							case 'simple':
								displayAddress = "Seoul";
								break;
							case 'medium':
								displayAddress = "Seoul Gangnam-gu";
								break;
							case 'detailed':
							default:
								displayAddress = "Seoul Gangnam-gu Teheran-ro 123";
								break;
						}
					}

					if (columnLanguage === "korean") {
						if (dataFormat === "text") {
							example = `이름: ${displayName}`;
						} else {
							example = `{"이름": "${displayName}", "이메일": "${displayEmail}"}`;
						}
					} else {
						if (dataFormat === "text") {
							example = `name: ${displayName}`;
						} else {
							example = `{"name": "${displayName}", "email": "${displayEmail}"}`;
						}
					}
				} else {
					// 영어 데이터 기준
					const englishAddress = SAMPLE_DATA.englishAddress[addressLevel];
					if (dataFormat === "text") {
						example = `name: ${SAMPLE_DATA.englishName}`;
					} else {
						example = `{"name": "${SAMPLE_DATA.englishName}", "email": "${SAMPLE_DATA.englishEmail}", "address": "${englishAddress}"}`;
					}
				}

				document.getElementById("previewExample").textContent = example;
			}

			// 데이터 생성
			function generateData() {
				// 이전 타이머가 있으면 취소
				if (generateDataTimeout) {
					clearTimeout(generateDataTimeout);
				}

				const { language, columnLanguage, displayLanguage, dataFormat, addressLevel, count } = getCurrentSettings();
				const output = document.getElementById("output");

				if (!output) {
					console.error("Output element not found");
					return;
				}

				// 로딩 표시
				output.innerHTML = '<div class="loading">🔄 데이터 생성 중...</div>';

				// 약간의 지연을 주어 로딩 효과
				generateDataTimeout = setTimeout(() => {
					const data = [];
					for (let i = 0; i < count; i++) {
						data.push(
							generator.generateAllData(
								language,
								columnLanguage,
								displayLanguage,
								addressLevel
							)
						);
					}

					lastGeneratedData = {
						data,
						format: dataFormat,
						columnLanguage,
						displayLanguage,
					};
					displayData(lastGeneratedData);
					generateDataTimeout = null; // 타이머 참조 정리
				}, 300);
			}

			// 데이터 표시
			function displayData(dataObj) {
				const output = document.getElementById("output");
				const { data, format } = dataObj;

				if (format === "text") {
					let textOutput = `=== 생성된 랜덤 데이터 (${data.length}개) ===\n\n`;

					data.forEach((item, index) => {
						textOutput += `[${index + 1}번째 데이터]\n`;
						Object.entries(item).forEach(([key, value]) => {
							textOutput += `${key}: ${value}\n`;
						});
						textOutput += "\n" + "=".repeat(50) + "\n\n";
					});

					output.textContent = textOutput;
				} else {
					const jsonOutput = JSON.stringify(data, null, 2);
					output.textContent = jsonOutput;
				}
			}

			// 클립보드에 복사
			function copyToClipboard() {
				try {
					const output = document.getElementById("output");
					const copyBtn = document.querySelector(".copy-btn");

					if (!output || !copyBtn) {
						console.error("Required elements not found");
						return;
					}

					const textContent = output.textContent?.trim();
					if (!textContent) {
						console.warn("No content to copy");
						return;
					}

					// 복사 성공 피드백 함수
					const showSuccess = () => {
						copyBtn.textContent = "✅ 복사됨!";
						copyBtn.classList.add("copied");
						setTimeout(() => {
							copyBtn.textContent = "📋 복사";
							copyBtn.classList.remove("copied");
						}, 2000);
					};

					// 클립보드 API 사용 시도
					if (navigator.clipboard) {
						navigator.clipboard
							.writeText(textContent)
							.then(showSuccess)
							.catch((error) => {
								console.warn("Clipboard API failed, trying fallback:", error);
								// 대체 방법 시도
								try {
									const textArea = document.createElement("textarea");
									textArea.value = textContent;
									textArea.style.position = 'fixed';
									textArea.style.opacity = '0';
									document.body.appendChild(textArea);
									textArea.select();
									const success = document.execCommand("copy");
									document.body.removeChild(textArea);
									
									if (success) {
										showSuccess();
									} else {
										throw new Error("execCommand failed");
									}
								} catch (fallbackError) {
									console.error("All copy methods failed:", fallbackError);
									copyBtn.textContent = "❌ 복사 실패";
									setTimeout(() => {
										copyBtn.textContent = "📋 복사";
									}, 2000);
								}
							});
					} else {
						// 클립보드 API가 없는 경우 대체 방법 사용
						console.warn("Clipboard API not supported, using fallback");
						const textArea = document.createElement("textarea");
						textArea.value = textContent;
						textArea.style.position = 'fixed';
						textArea.style.opacity = '0';
						document.body.appendChild(textArea);
						textArea.select();
						const success = document.execCommand("copy");
						document.body.removeChild(textArea);
						
						if (success) {
							showSuccess();
						} else {
							copyBtn.textContent = "❌ 복사 실패";
							setTimeout(() => {
								copyBtn.textContent = "📋 복사";
							}, 2000);
						}
					}
				} catch (error) {
					console.error("Unexpected error in copyToClipboard:", error);
				}
			}

			// 엔터키로 생성
			document
				.getElementById("count")
				.addEventListener("keypress", function (event) {
					if (event.key === "Enter") {
						generateData();
					}
				});

			// 페이지 로드 시 초기화
			window.addEventListener("load", function () {
				loadSettings();
				setTimeout(() => {
					generateData();
				}, 500);
			});
		</script>
	</body>
</html>
